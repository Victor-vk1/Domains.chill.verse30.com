<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Domains</title>
<style>
:root{--accent:#00ffa7;--glass-border:rgba(255,255,255,0.12);--muted:rgba(255,255,255,0.78);--card-radius:20px}
*{box-sizing:border-box}html,body{height:100%;margin:0;background:#000;color:#fff;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;-webkit-font-smoothing:antialiased}
.bg{position:fixed;inset:0;z-index:0;background:url('/mnt/data/My Portfolio  _  Design  _  Artwork.jpeg') center/cover no-repeat;filter:saturate(.95) contrast(.92) blur(6px) brightness(.82)}
canvas.full{position:fixed;inset:0;z-index:1;pointer-events:none;mix-blend-mode:screen}
.shell{position:relative;z-index:60;height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
/* SLIM CARD */
.card{width:360px;padding:18px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.045),rgba(255,255,255,0.02));border:1px solid var(--glass-border);backdrop-filter:blur(20px) saturate(140%);box-shadow:0 36px 110px rgba(0,0,0,0.7);position:relative;overflow:visible;pointer-events:auto;user-select:none}
.card .liquidCanvas{position:absolute;inset:-26px;z-index:2;pointer-events:none;border-radius:26px;mix-blend-mode:overlay;filter:blur(6px) saturate(1.2)}
.hdr{display:flex;gap:12px;align-items:center}
.logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.12),rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center;font-weight:800}
.title{font-size:20px;font-weight:800}
.subtitle{font-size:12px;color:var(--muted);margin-top:6px}
.input{width:100%;padding:12px 14px;border-radius:12px;border:none;outline:none;background:rgba(255,255,255,0.06);color:#fff;margin-top:12px;font-size:14px}
.btn{width:100%;margin-top:14px;padding:12px;border-radius:12px;border:none;cursor:pointer;font-weight:800;background:linear-gradient(180deg,var(--accent),#00e59a);color:#08110f}
.smallText{font-size:13px;color:var(--muted);margin-top:10px;text-align:center}
/* Dashboard */
.dashboardWrap{display:none;padding:28px;z-index:50}
.dashboard{width:min(1120px,94vw);max-width:1120px;height:min(78vh,820px);margin:0 auto;display:flex;gap:18px;align-items:flex-start}
.side{width:220px}
.menuCard{padding:14px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.035),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.06);backdrop-filter:blur(16px);box-shadow:0 18px 60px rgba(0,0,0,0.6)}
.menuTitle{font-weight:800;font-size:14px}
.menuList{margin-top:12px;display:flex;flex-direction:column;gap:10px}
.menuBtn{padding:12px;border-radius:12px;cursor:pointer;background:transparent;color:#fff;text-align:left;border:1px solid transparent;transition:.18s}
.menuBtn:hover{transform:translateY(-3px);background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03)}
.active{background:linear-gradient(90deg,rgba(0,255,170,0.06),rgba(0,210,255,0.03));border:1px solid rgba(0,255,170,0.09)}
.centerArea{flex:1;display:flex;align-items:center;justify-content:center;min-height:420px}
.domainCard{width:640px;max-width:94%;height:420px;border-radius:22px;overflow:hidden;position:relative;background:linear-gradient(180deg,rgba(10,8,20,0.55),rgba(0,0,0,0.65));border:1px solid rgba(255,255,255,0.06);box-shadow:0 30px 80px rgba(0,0,0,0.6)}
.domainCard .art{position:absolute;inset:0;background-size:cover;background-position:center;filter:contrast(1.02) saturate(1.05)}
.domainCard .content{position:absolute;left:28px;bottom:30px;color:white;z-index:8;width:calc(100% - 56px)}
.domainCard h2{margin:0;font-size:28px;font-weight:800}
.domainCard p{margin-top:8px;color:var(--muted)}
.join{margin-top:14px;padding:12px 16px;border-radius:12px;border:none;font-weight:800;background:linear-gradient(180deg,var(--accent),#00d59a);color:#08110f;cursor:pointer}
.modalBack{position:fixed;inset:0;z-index:120;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center}
.modal{width:420px;max-width:92%;padding:18px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.06);box-shadow:0 20px 60px rgba(0,0,0,0.7)}
@media(max-width:900px){.dashboard{flex-direction:column;gap:12px;align-items:center;height:auto}.side{width:92%}.centerArea{width:92%}.domainCard{height:380px}}
</style>
</head>
<body>
<div class="bg" aria-hidden="true"></div>
<canvas id="sunCanvas" class="full"></canvas>
<canvas id="particlesCanvas" class="full"></canvas>
<canvas id="metaballsCanvas" class="full"></canvas>
<div class="shell" id="shell">
  <div class="card" id="loginCard" role="dialog" aria-label="Domain Login Card">
    <canvas id="cardMetaballs" class="liquidCanvas"></canvas>
    <div class="inner">
      <div class="hdr">
        <div class="logo">DV</div>
        <div>
          <div class="title">Domain Login</div>
          <div class="subtitle">Login to access domains</div>
        </div>
      </div>
      <div style="margin-top:12px;">
        <input id="loginEmail" class="input" placeholder="Email address" type="email" autocomplete="email">
        <input id="loginUser" class="input" placeholder="Username" autocomplete="username">
        <input id="loginPass" class="input" placeholder="Password" type="password" autocomplete="current-password">
        <button id="loginBtn" class="btn">Log in</button>
        <div class="smallText">If device is low-power effects will reduce automatically. Prefers-reduced-motion honored.</div>
      </div>
    </div>
  </div>
</div>
<div class="dashboardWrap" id="dashboardWrap">
  <div class="dashboard" id="dashboard">
    <div class="side">
      <div class="menuCard">
        <div class="menuTitle">Domains</div>
        <div class="menuList" id="menuList">
          <button class="menuBtn active" data-id="cvwt"><strong>CVWT</strong><div style="font-size:12px;color:var(--muted)">Chill Verse Website Testers</div></button>
          <button class="menuBtn" data-id="coders"><strong>Coders Association</strong><div style="font-size:12px;color:var(--muted)">Code, collab, ship</div></button>
          <button class="menuBtn" data-id="editors"><strong>Editors Club</strong><div style="font-size:12px;color:var(--muted)">Editorial & curation</div></button>
          <button class="menuBtn" data-id="office"><strong>Office Holders Verse</strong><div style="font-size:12px;color:var(--muted)">Leaders & roles</div></button>
        </div>
        <div style="margin-top:12px;display:flex;gap:8px;">
          <button id="logoutBtn" class="menuBtn" style="flex:1;background:rgba(255,255,255,0.02)">Logout</button>
          <button id="settingsBtn" class="menuBtn" style="width:44px">⚙</button>
        </div>
      </div>
    </div>
    <div class="centerArea">
      <div id="domainCard" class="domainCard">
        <div class="art" id="domainArt" style="background-image:url('/mnt/data/My Portfolio  _  Design  _  Artwork.jpeg')"></div>
        <div class="content">
          <h2 id="domainTitle">CVWT</h2>
          <p id="domainDesc">Chill Verse Website Testers — test & chill with site builds.</p>
          <button class="join" id="joinBtn">Join</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="authModal" style="display:none;">
  <div class="modalBack">
    <div class="modal" role="dialog" aria-modal="true">
      <div style="font-weight:800;margin-bottom:8px">Re-enter password to view</div>
      <input id="rePass" class="input" type="password" placeholder="Password">
      <div style="display:flex;gap:8px;margin-top:12px;">
        <button id="reSubmit" class="btn" style="flex:1">Confirm</button>
        <button id="reCancel" class="input" style="width:110px;background:rgba(255,255,255,0.02)">Cancel</button>
      </div>
    </div>
  </div>
</div>
<div id="joinModal" style="display:none;">
  <div class="modalBack">
    <div class="modal">
      <div style="font-weight:800;margin-bottom:6px">Join this domain</div>
      <div class="note" style="margin-bottom:8px">Enter the email to register for this domain.</div>
      <input id="joinEmail" class="input" placeholder="you@domain.com" type="email">
      <div style="display:flex;gap:8px;margin-top:12px;">
        <button id="joinSubmit" class="btn" style="flex:1">Submit</button>
        <button id="joinCancel" class="input" style="width:110px;background:rgba(255,255,255,0.02)">Cancel</button>
      </div>
    </div>
  </div>
</div>
<div id="successModal" style="display:none;">
  <div class="modalBack">
    <div class="modal">
      <div style="font-weight:800;margin-bottom:6px">Success</div>
      <div id="successMsg" class="note">You are registered — check your email.</div>
      <div style="display:flex;justify-content:flex-end;margin-top:12px;">
        <button id="succClose" class="btn" style="width:120px">Close</button>
      </div>
    </div>
  </div>
</div>
<script>
/* CONFIG */
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyf-8LnQKKpIxzvY1QsVZI2jQF_7oMxprxCWrrFJTPDNBqrdZs_Folw4GZI2Iz5phM-_A/exec';
const CARD_ART_URL = '/mnt/data/My Portfolio  _  Design  _  Artwork.jpeg';
/* STATE */
const state = { logged:false, username:null, email:null, passwd:null, selectedDomain:'cvwt' };
/* ELEMENTS */
const loginCard = document.getElementById('loginCard');
const cardMetaballs = document.getElementById('cardMetaballs');
const shell = document.getElementById('shell');
const dashboardWrap = document.getElementById('dashboardWrap');
const domainArt = document.getElementById('domainArt');
const domainTitle = document.getElementById('domainTitle');
const domainDesc = document.getElementById('domainDesc');
const joinBtn = document.getElementById('joinBtn');
const menuList = document.getElementById('menuList');
/* fit card metaballs canvas */
function fitCardCanvas(){const rect = loginCard.getBoundingClientRect();cardMetaballs.width = rect.width + 60;cardMetaballs.height = rect.height + 60;cardMetaballs.style.left = (rect.left - 30) + 'px';cardMetaballs.style.top = (rect.top - 30) + 'px';}
window.addEventListener('resize', fitCardCanvas);setTimeout(fitCardCanvas,120);
/* DRAG PHYSICS (same behaviour) */
let dragging=false;let dragOffset={x:0,y:0},origin={x:0,y:0},vel={x:0,y:0};
function startDrag(e){dragging=true;loginCard.style.transition='none';const rect=loginCard.getBoundingClientRect();dragOffset.x=e.clientX-rect.left;dragOffset.y=e.clientY-rect.top;origin.x=rect.left;origin.y=rect.top}
function moveDrag(e){if(!dragging) return;const px=e.clientX-dragOffset.x;const py=e.clientY-dragOffset.y;const dx=px-origin.x,dy=py-origin.y;vel.x=dx*0.18;vel.y=dy*0.18;loginCard.style.transform=`translate(${dx}px, ${dy}px) rotateX(${ -dy/80 }deg) rotateY(${ dx/80 }deg)`;spawnMetaballLocal(e.clientX,e.clientY,80)}
function endDrag(e){if(!dragging) return;dragging=false;let px=0,py=0;let vxx=vel.x,vyy=vel.y;const spring=0.09,damp=0.82;function frame(){const ax=-spring*px,ay=-spring*py;vxx=(vxx+ax)*damp;vyy=(vyy+ay)*damp;px+=vxx;py+=vyy;loginCard.style.transform=`translate(${px}px, ${py}px) rotateX(${ -py/80 }deg) rotateY(${ px/80 }deg)`;if(Math.abs(px)+Math.abs(py)>0.4||Math.abs(vxx)+Math.abs(vyy)>0.02){requestAnimationFrame(frame)}else{loginCard.style.transition='transform 260ms cubic-bezier(.22,.9,.34,1)';loginCard.style.transform=''}}requestAnimationFrame(frame)}
loginCard.addEventListener('pointerdown',e=>{startDrag(e);loginCard.setPointerCapture(e.pointerId)});window.addEventListener('pointermove',e=>moveDrag(e));window.addEventListener('pointerup',e=>endDrag(e));
/* METABALLS (canvas2d overlay) */
const mCanvas = cardMetaballs;const mCtx = mCanvas.getContext('2d',{alpha:true});let metaballs=[];function spawnMetaballLocal(clientX,clientY,radius=70){const rect=loginCard.getBoundingClientRect();const localX=clientX-(rect.left-30);const localY=clientY-(rect.top-30);metaballs.push({x:localX,y:localY,r:radius,a:0.9,vx:(Math.random()-0.5)*1.5,vy:(Math.random()-0.5)*1.5,life:1.0})}
function updateMetaballs(){mCtx.clearRect(0,0,mCanvas.width,mCanvas.height);for(let i=0;i<metaballs.length;i++){const b=metaballs[i];b.x+=b.vx;b.y+=b.vy;b.vx*=0.99;b.vy*=0.99;b.life-=0.01;const grad=mCtx.createRadialGradient(b.x,b.y,0,b.x,b.y,b.r*1.6);grad.addColorStop(0,`rgba(0,210,255,${0.25*b.life})`);grad.addColorStop(0.3,`rgba(0,210,255,${0.12*b.life})`);grad.addColorStop(1,`rgba(0,210,255,0)`);mCtx.beginPath();mCtx.fillStyle=grad;mCtx.arc(b.x,b.y,b.r*1.6,0,Math.PI*2);mCtx.fill();const grad2=mCtx.createRadialGradient(b.x,b.y,0,b.x,b.y,b.r);grad2.addColorStop(0,`rgba(255,255,255,${0.16*b.life})`);grad2.addColorStop(0.5,`rgba(0,255,170,${0.08*b.life})`);grad2.addColorStop(1,`rgba(0,255,170,0)`);mCtx.fillStyle=grad2;mCtx.beginPath();mCtx.arc(b.x,b.y,b.r,0,Math.PI*2);mCtx.fill()}metaballs=metaballs.filter(b=>b.life>0.02);mCtx.globalCompositeOperation='lighter';requestAnimationFrame(updateMetaballs)}
updateMetaballs();setInterval(()=>{const rect=loginCard.getBoundingClientRect();const x=(rect.width/2)+(Math.random()-0.5)*rect.width*0.6+30;const y=(rect.height/2)+(Math.random()-0.5)*rect.height*0.6+30;metaballs.push({x,y,r:40+Math.random()*80,a:0.9,vx:(Math.random()-0.5)*0.4,vy:(Math.random()-0.5)*0.4,life:1.0})},1200);loginCard.addEventListener('pointerdown',e=>{spawnMetaballLocal(e.clientX,e.clientY,80+Math.random()*40)});
/* SUN + PARTICLES */
const sunCanvas=document.getElementById('sunCanvas'),sunCtx=sunCanvas.getContext('2d',{alpha:true});const particlesCanvas=document.getElementById('particlesCanvas'),pCtx=particlesCanvas.getContext('2d',{alpha:true});const metaballsCanvas=document.getElementById('metaballsCanvas'),metaCtx=metaballsCanvas.getContext('2d',{alpha:true});function resizeAll(){const w=innerWidth,h=innerHeight;sunCanvas.width=w;sunCanvas.height=h;particlesCanvas.width=w;particlesCanvas.height=h;metaballsCanvas.width=w;metaballsCanvas.height=h;fitCardCanvas()}window.addEventListener('resize',resizeAll);resizeAll();let tPrev=performance.now(),sunPos=0;const particles=[];for(let i=0;i<100;i++){particles.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:6+Math.random()*28,hue:180+Math.random()*80,vx:(Math.random()-0.5)*0.05,vy:-0.02-Math.random()*0.15,alpha:0.02+Math.random()*0.08})}
function renderSun(now){const w=sunCanvas.width,h=sunCanvas.height;const dt=(now-tPrev)/1000;tPrev=now;sunPos+=dt/60; if(sunPos>1) sunPos=1; sunCtx.clearRect(0,0,w,h); const gx=w*0.15,gy=h*(0.85 - sunPos*0.25); const rg=sunCtx.createRadialGradient(gx,gy,20,gx,gy,Math.max(w,h)*0.9);rg.addColorStop(0,`rgba(255,240,200,${0.08 + sunPos*0.2})`);rg.addColorStop(0.14,`rgba(255,220,180,${0.06 + sunPos*0.12})`);rg.addColorStop(1,'rgba(255,200,160,0)');sunCtx.fillStyle=rg;sunCtx.fillRect(0,0,w,h);for(let i=0;i<3;i++){sunCtx.save();sunCtx.globalAlpha=0.02 + sunPos*0.06;sunCtx.translate(gx,gy);const angle=-0.6 + i*0.4;sunCtx.rotate(angle);const bw=Math.max(w,h)*1.2;const grad=sunCtx.createLinearGradient(-bw,0,bw,0);grad.addColorStop(0,'rgba(255,255,240,0)');grad.addColorStop(0.5,'rgba(255,255,240,0.06)');grad.addColorStop(1,'rgba(255,255,240,0)');sunCtx.fillStyle=grad;sunCtx.fillRect(-bw,-h*0.5,bw*2,h*1.5);sunCtx.restore()}pCtx.clearRect(0,0,w,h);pCtx.globalCompositeOperation='lighter';for(let p of particles){p.x += p.vx * (1 + sunPos*3);p.y += p.vy * (1 + sunPos*0.3);p.alpha += (Math.random()-0.5)*0.01; if(p.alpha < 0.01) p.alpha = 0.01; if(p.x < -100) p.x = w+100; if(p.x > w+100) p.x = -100; if(p.y < -100) p.y = h+100; const rgp=pCtx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r);rgp.addColorStop(0,`hsla(${p.hue},90%,65%,${p.alpha})`);rgp.addColorStop(0.3,`hsla(${p.hue},80%,60%,${p.alpha*0.5})`);rgp.addColorStop(1,`hsla(${p.hue-30},70%,30%,0)`);pCtx.fillStyle=rgp;pCtx.beginPath();pCtx.arc(p.x,p.y,p.r,0,Math.PI*2);pCtx.fill()}requestAnimationFrame(renderSun)}requestAnimationFrame(renderSun);
/* DASHBOARD wiring */
const loginEmail=document.getElementById('loginEmail'),loginUser=document.getElementById('loginUser'),loginPass=document.getElementById('loginPass'),loginBtnEl=document.getElementById('loginBtn');const menuButtons=Array.from(document.querySelectorAll('.menuBtn'));
menuButtons.forEach(btn=>{btn.addEventListener('click',()=>{menuButtons.forEach(b=>b.classList.remove('active'));btn.classList.add('active');const id=btn.dataset.id;selectDomain(id)})});
function selectDomain(id){state.selectedDomain=id;if(id==='cvwt'){domainTitle.textContent='CVWT';domainDesc.textContent='Chill Verse Website Testers — test & chill with site builds.';domainArt.style.backgroundImage=`url('${CARD_ART_URL}')`}if(id==='coders'){domainTitle.textContent='Coders Association';domainDesc.textContent='Collab on code, review & ship products.';domainArt.style.backgroundImage=`url('${CARD_ART_URL}')`}if(id==='editors'){domainTitle.textContent='Editors Club';domainDesc.textContent='Editing & publishing workflows.';domainArt.style.backgroundImage=`url('${CARD_ART_URL}')`}if(id==='office'){domainTitle.textContent='Office Holders Verse';domainDesc.textContent='Leadership roles and governance.';domainArt.style.backgroundImage=`url('${CARD_ART_URL}')`}}
/* LOGIN flow (real) */
loginBtnEl.addEventListener('click',()=>{const e=loginEmail.value.trim();const u=loginUser.value.trim();const p=loginPass.value; if(!e||!u||!p){shake(loginCard);return alert('Fill email, username and password')} state.logged=true;state.username=u;state.email=e;state.passwd=p;localStorage.setItem('domain_ui_user',JSON.stringify({username:u,email:e})); // TRANSITION: slide left to dashboard (style B)
const shellEl=document.getElementById('shell');const dash=document.getElementById('dashboardWrap');shellEl.style.transition='transform 420ms cubic-bezier(.22,.9,.34,1), opacity 360ms';shellEl.style.transform='translateX(-40px)';shellEl.style.opacity='0';setTimeout(()=>{shellEl.style.display='none';shellEl.style.transform='';shellEl.style.opacity='1';dash.style.display='block';dash.style.opacity='0';dash.style.transform='translateX(40px)';setTimeout(()=>{dash.style.transition='transform 420ms cubic-bezier(.22,.9,.34,1), opacity 360ms';dash.style.transform='translateX(0)';dash.style.opacity='1';},40);},420);selectDomain('cvwt');});
function shake(el){el.animate([{transform:'translateX(0)'},{transform:'translateX(-8px)'},{transform:'translateX(8px)'},{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}],{duration:420,easing:'cubic-bezier(.3,.8,.3,1)'});} 
/* logout */
document.getElementById('logoutBtn').addEventListener('click',()=>{state.logged=false;state.username=null;state.email=null;state.passwd=null;localStorage.removeItem('domain_ui_user');document.getElementById('dashboardWrap').style.display='none';document.getElementById('shell').style.display='flex';loginPass.value='';});
/* re-auth & join */
let pendingDomain=null;joinBtn.addEventListener('click',()=>{pendingDomain=state.selectedDomain;document.getElementById('authModal').style.display='block'});document.getElementById('reCancel').addEventListener('click',()=>document.getElementById('authModal').style.display='none');document.getElementById('reSubmit').addEventListener('click',()=>{const val=document.getElementById('rePass').value||''; if(val===state.passwd){document.getElementById('authModal').style.display='none';openJoinModal()}else{alert('Password incorrect')}});
function openJoinModal(){document.getElementById('joinModal').style.display='block';document.getElementById('joinEmail').value=state.email||''}
document.getElementById('joinCancel').addEventListener('click',()=>document.getElementById('joinModal').style.display='none');document.getElementById('joinSubmit').addEventListener('click',async ()=>{const em=document.getElementById('joinEmail').value.trim(); if(!em) return alert('Enter email to join'); const payload={domain:state.selectedDomain.toUpperCase(),email:em,username:state.username}; try{await fetch(SCRIPT_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});document.getElementById('joinModal').style.display='none';showSuccess(`Registered for ${payload.domain}. Check ${em}.`)}catch(err){console.error(err);alert('Failed to register — try again')}});
function showSuccess(msg){document.getElementById('successMsg').textContent=msg;document.getElementById('successModal').style.display='block'}document.getElementById('succClose').addEventListener('click',()=>document.getElementById('successModal').style.display='none');
/* hydrate */(function(){const saved=localStorage.getItem('domain_ui_user');if(saved){try{const o=JSON.parse(saved);if(o.username) loginUser.value=o.username;if(o.email) loginEmail.value=o.email}catch(e){}}})();
</script>
</body>
</html>
